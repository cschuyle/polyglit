{"version":3,"sources":["images/popout-flat.png","images/pdf.png","images/document.png","images/lp-cover.jpg","images/audiobook.png","Showcase.tsx","HomePage.tsx","reportWebVitals.ts","index.tsx"],"names":["compareTroveItem","a","b","littlePrinceItem","language","BigWhiteTooltip","withStyles","arrow","border","color","tooltip","fontSize","backgroundColor","borderRadius","boxShadow","maxWidth","Tooltip","SmallTooltip","Showcase","props","state","troveItems","displayedTroveItems","searchText","onlyDuplicates","this","fetchTrove","then","trove","console","log","items","length","setState","sort","search","fetch","troveUrl","res","json","id","className","pageHeader","pageSubtitle","style","display","width","TextField","label","type","variant","value","onChange","e","onSearchTextChanged","placeholder","showDupsCheckbox","marginLeft","float","FormControlLabel","control","Checkbox","checked","onOnlyDuplicatesChanged","title","href","interactive","placement","collectionTitle","map","troveItem","index","renderTroveItem","target","currentTarget","filter","troveItemMatches","searchByText","_","toLowerCase","includes","author","script","format","translator","narrator","illustrator","join","searchByDuplicates","quantity","key","troveItemTooltipContents","enterDelay","enterNextDelay","largeImageUrl","position","height","src","smallImageUrl","alt","createRow","field","rows","constructLanguage","constructTranslationTitle","isbn13","constructPublicationBlurb","year","constructTagsBlurb","tags","constructAquisitionBlurb","comments","isPresent","Grid","container","direction","spacing","item","justify","renderDocumentLink","files","filename","row","undefined","translationTitle","transliterated","spokenIn","file","iconFor","fileType","icon","rel","publisher","publicationLocation","publicationCountry","acquiredFrom","dateAcquired","endsWith","coverIcon","pdfIcon","documentIcon","audibookIcon","popoutFlat","React","Component","HomePage","body","children","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","path","exact","component","textAlign","document","getElementById"],"mappings":"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","file":"static/js/main.7f4276c6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/popout-flat.8676d87d.png\";","export default __webpack_public_path__ + \"static/media/pdf.5a5d0ba1.png\";","export default __webpack_public_path__ + \"static/media/document.2d3b7428.png\";","export default __webpack_public_path__ + \"static/media/lp-cover.94255a7e.jpg\";","export default __webpack_public_path__ + \"static/media/audiobook.cd1398bf.png\";","import React from 'react';\nimport popoutFlat from \"./images/popout-flat.png\"\nimport pdfIcon from \"./images/pdf.png\"\nimport documentIcon from \"./images/document.png\"\nimport coverIcon from \"./images/lp-cover.jpg\"\nimport audibookIcon from \"./images/audiobook.png\"\n\nimport {Checkbox, FormControlLabel, Grid, TextField, Tooltip, withStyles} from \"@material-ui/core\";\n\ninterface TroveItem {\n    littlePrinceItem: {\n        title: string,\n        author?: string,\n        largeImageUrl: string,\n        language: string,\n        smallImageUrl: string,\n        format?: string,\n        illustrator?: string,\n        isbn13?: string,\n        narrator?: string,\n        \"publication-country\"?: string,\n        \"publication-location\"?: string,\n        publisher?: string,\n        quantity?: number,\n        translator?: string,\n        year?: string,\n        files?: string[],\n        \"translation-title\"?: string,\n        \"translation-title-transliterated\"?: string,\n        \"language-spoken-in\"?: string,\n        \"script\"?: string,\n        \"script-family\"?: string,\n        \"tags\"?: string[],\n        \"comments\"?: string,\n        \"date-acquired\"?: string,\n        \"acquired-from\"?: string,\n        \"search-words\"?: string\n    }\n}\n\nfunction compareTroveItem(a: TroveItem, b: TroveItem) {\n    if (a.littlePrinceItem.language >= b.littlePrinceItem.language) {\n        return 1\n    }\n    return -1\n}\n\ninterface Trove {\n    id: string,\n    name: string,\n    shortName: string,\n    items: TroveItem[]\n}\n\ninterface ShowcaseState {\n    troveItems: TroveItem[],\n    displayedTroveItems: TroveItem[],\n    searchText: string\n    onlyDuplicates: boolean\n}\n\ninterface ShowcaseProps {\n    pageHeader: string\n    pageSubtitle: string\n    troveUrl: string\n    collectionTitle: string\n    showDupsCheckbox: boolean\n}\n\nconst BigWhiteTooltip = withStyles({\n    arrow: {\n        \"&:before\": {\n            border: \"1px solid #444444\"\n        },\n        color: \"white\"\n    },\n    tooltip: {\n        fontSize: \"1em\",\n        backgroundColor: \"white\",\n        border: \"1px solid #444444\",\n        color: \"#444444\",\n        borderRadius: \".2em\",\n        boxShadow: \"0 0 0.5em 0.5em #f2f2f2\",\n        maxWidth: \"none\", // TODO this is not a good solution to the problem of the icons showing up after the rest of the text\n    }\n})(Tooltip);\n\nconst SmallTooltip = withStyles({\n    tooltip: {\n        fontSize: \"1em\",\n        backgroundColor: \"lightyellow\",\n        color: \"darkslategray\",\n        border: \"1px solid black\",\n    }\n})(Tooltip);\n\n\nclass Showcase extends React.Component<ShowcaseProps, ShowcaseState> {\n\n    constructor(props: ShowcaseProps) {\n        super(props)\n        this.state = {\n            troveItems: [],\n            displayedTroveItems: [],\n            searchText: \"\",\n            onlyDuplicates: false\n        }\n    }\n\n    componentDidMount() {\n        this.fetchTrove().then(trove => {\n            console.log(`Got ${trove.items.length} Trove items`)\n            this.setState({troveItems: trove.items.sort(compareTroveItem)});\n            this.search(\"\", false)\n        })\n    }\n\n    fetchTrove() {\n        return fetch(this.props.troveUrl)\n            .then(res => {\n                return res.json() as Promise<Trove>\n            })\n    }\n\n    render() {\n        return (\n            <div id=\"main_content_wrap\" className=\"outer\">\n                <div id=\"main_content\" className=\"inner\">\n                    <h1>{this.props.pageHeader}</h1>\n                    <p>{this.props.pageSubtitle}</p>\n\n                    <span>\n                        <div>\n                            <div style={{display: \"flex\"}}>\n                                <div style={{width: \"90%\"}}>\n                                    <TextField label=\"Search keywords\"\n                                               type=\"search\" variant=\"outlined\"\n                                               style={{width: \"100%\"}}\n                                               value={this.state.searchText}\n                                               onChange={e => this.onSearchTextChanged(e)}\n                                               placeholder=\"language, country, title, script, format ...\"\n                                    />\n                                </div>\n                                {this.props.showDupsCheckbox &&\n                                <div style={{marginLeft: \"20px\"}}>\n                                    <div style={{float: \"left\"}}>\n                                        <FormControlLabel\n                                            control={\n                                                <Checkbox\n                                                    checked={this.state.onlyDuplicates}\n                                                    onChange={e => this.onOnlyDuplicatesChanged(e)}\n                                                    color=\"default\"\n                                                />\n                                            }\n                                            label={\n                                                <BigWhiteTooltip\n                                                    title={<section>Send me an email at <a\n                                                        href=\"mailto:carl@dragnon.com\">carl@dragnon.com</a></section>}\n                                                    arrow\n                                                    interactive\n                                                    placement=\"bottom-start\">\n                                                    <div>Show only copies for which I have duplicates <i><strong>(want\n                                                        to make a\n                                                        deal?)</strong></i>\n                                                    </div>\n                                                </BigWhiteTooltip>\n                                            }\n                                        />\n                                    </div>\n                                </div>\n                                }\n                            </div>\n                        </div>\n                        <p/>\n                        <section>\n                            Showing {this.state.displayedTroveItems.length} of {this.state.troveItems.length} editions of {this.props.collectionTitle}\n                        </section>\n                        <p/>\n                        <section className=\"column\">\n                            {\n                                this.state.displayedTroveItems.map((troveItem, index) => {\n                                    return this.renderTroveItem(troveItem, index)\n                                })\n                            }\n                        </section>\n                    </span>\n                </div>\n            </div>\n        );\n    }\n\n    private onSearchTextChanged(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) {\n        this.setState({\n            searchText: e.target.value\n        });\n        this.search(e.currentTarget.value, this.state.onlyDuplicates);\n    }\n\n    private onOnlyDuplicatesChanged(e: React.ChangeEvent<HTMLInputElement>) {\n        console.log(`only duplicates value is ${e.currentTarget.checked}`)\n        this.setState({\n            searchText: this.state.searchText,\n            onlyDuplicates: e.target.checked\n        });\n        this.search(this.state.searchText, e.currentTarget.checked);\n    }\n\n    private search(searchText: string, onlyDuplicates: boolean) {\n        this.setState({\n            displayedTroveItems: this.state.troveItems.filter(this.troveItemMatches(searchText, onlyDuplicates))\n        })\n    }\n\n    private troveItemMatches(searchText: string, onlyDuplicates: boolean) {\n\n        let searchByText = (_: TroveItem) => {\n            return true\n        }\n\n        if (searchText) {\n            searchByText = (troveItem) => {\n                return (\n                    troveItem.littlePrinceItem.language.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.title.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.author?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.script?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.format?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.translator?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.narrator?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem.illustrator?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"script-family\"]?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"tags\"]?.join(\"/\").toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"translation-title\"]?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"translation-title-transliterated\"]?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"language-spoken-in\"]?.toLowerCase().includes(searchText.toLowerCase()) ||\n                    troveItem.littlePrinceItem[\"search-words\"]?.toLowerCase().includes(searchText.toLowerCase())\n                ) || false\n            }\n        }\n\n        let searchByDuplicates = searchByText\n\n        if (onlyDuplicates) {\n            searchByDuplicates = troveItem => {\n                return searchByText(troveItem) && (troveItem.littlePrinceItem.quantity ?? 1) > 1\n            }\n        }\n\n        return searchByDuplicates\n    }\n\n    private renderTroveItem(troveItem: TroveItem, key: any) {\n        return <BigWhiteTooltip\n            title={this.troveItemTooltipContents(troveItem)}\n            arrow\n            interactive\n            placement=\"right-start\"\n            enterDelay={300}\n            enterNextDelay={300}\n        >\n\n            <div className=\"thumbnail\" key={key}>\n                <a target=\"_blank\" href={troveItem.littlePrinceItem.largeImageUrl}>\n                    <div style={{position: \"relative\"}}>\n                        <img width=\"150\" height={\"100%\"}\n                             src={troveItem.littlePrinceItem.smallImageUrl}\n                            // title={troveItem.littlePrinceItem.title}\n                             alt={troveItem.littlePrinceItem.title}\n                        />\n                    </div>\n                </a>\n                <div className=\"caption\">{troveItem.littlePrinceItem.language}</div>\n            </div>\n        </BigWhiteTooltip>\n    }\n\n    private troveItemTooltipContents(troveItem: TroveItem) {\n\n        let fieldsInOrder: string[] = [\n            \"translation-title\",\n            \"translation-title-transliterated\",\n            'language',\n            \"script\",\n            'translator',\n            'illustrator',\n            'narrator',\n            'isbn13',\n            'format',\n            'year',\n            'publisher',\n            'publication-country',\n            'publication-location',\n            'acquisition-blurb',\n            \"tags\",\n            \"comments\"\n        ]\n\n        let createRow = (field: string | null, value: any) => ({field, value})\n\n        let rows = fieldsInOrder.map(field => {\n            switch (field) {\n                case 'language':\n                    return createRow(\"Language\", this.constructLanguage(troveItem))\n                case 'translation-title':\n                    return createRow(\"Title in translation\", this.constructTranslationTitle(troveItem))\n                case 'script':\n                    return createRow(\"Script\", troveItem.littlePrinceItem.script)\n                case 'translator':\n                    return createRow(\"Translated by\", troveItem.littlePrinceItem.translator)\n                case 'illustrator':\n                    return createRow(\"Illustrated by\", troveItem.littlePrinceItem.illustrator)\n                case 'narrator':\n                    return createRow(\"Narrated by\", troveItem.littlePrinceItem.narrator)\n                case 'isbn13':\n                    return createRow(\"ISBN-13\", troveItem.littlePrinceItem.isbn13)\n                case 'format':\n                    return createRow(\"Format\", troveItem.littlePrinceItem.format)\n                case 'publisher':\n                    return createRow(\"Published\", this.constructPublicationBlurb(troveItem.littlePrinceItem))\n                case 'year':\n                    return createRow(\"Publication year\", troveItem.littlePrinceItem.year)\n                case 'tags':\n                    return createRow(\"Tags\", this.constructTagsBlurb(troveItem.littlePrinceItem.tags))\n                case 'acquisition-blurb':\n                    return createRow(\"Acquired\", this.constructAquisitionBlurb(troveItem.littlePrinceItem))\n                case 'comments':\n                    return createRow(null, troveItem.littlePrinceItem.comments)\n            }\n        }).filter(e => e != null && this.isPresent(e.value))\n\n        return <Grid container direction={\"row\"} spacing={2}>\n            <Grid item direction={\"column\"} justify={\"center\"}>\n                {\n                    <Grid item>\n                        {this.renderDocumentLink(troveItem.littlePrinceItem.largeImageUrl)}\n                    </Grid>\n                }\n                {\n                    troveItem.littlePrinceItem.files?.map(filename => {\n                        return <Grid item>\n                            {this.renderDocumentLink(filename)}\n                        </Grid>\n                    })\n                }\n            </Grid>\n            <Grid item>\n                <div>\n                    <strong><i>{troveItem.littlePrinceItem.title}</i></strong>\n                    <p/>{\n                    rows.map((row) => {\n                            if (row?.field != null) {\n                                return <span><strong>{row?.field}:</strong> {row?.value}\n                                    <p/>\n                </span>\n                            }\n                            return <span>{row?.value}</span>\n                        }\n                    )}\n                </div>\n            </Grid>\n        </Grid>\n    }\n\n    private isPresent(value: any | null | undefined): value is null | undefined {\n        return !(value === null || value === undefined || value === '');\n    }\n\n    private constructTranslationTitle(troveItem: TroveItem) {\n        let translationTitle = troveItem.littlePrinceItem['translation-title'];\n        let transliterated = troveItem.littlePrinceItem['translation-title-transliterated'];\n\n        if (this.isPresent(translationTitle) && this.isPresent(transliterated)) {\n            return `${translationTitle} [${transliterated}]`;\n        }\n        if (this.isPresent(transliterated)) {\n            return `${transliterated}`;\n        }\n        if (this.isPresent(translationTitle)) {\n            return `${translationTitle}`;\n        }\n        return null;\n    }\n\n    private constructLanguage(troveItem: TroveItem) {\n        let language = troveItem.littlePrinceItem.language;\n        let spokenIn = troveItem.littlePrinceItem['language-spoken-in'];\n        if (spokenIn != null) {\n            return `${language} (spoken in ${spokenIn})`\n        }\n        return language;\n    }\n\n    private renderDocumentLink(file: string) {\n        let [fileType, icon] = this.iconFor(file)\n        return <a href={file}\n                  target=\"_blank\"\n                  rel=\"noreferrer\">\n            <SmallTooltip title={`Open ${fileType} in new tab`} placement=\"left-end\">\n                <img style={{'padding': 0, 'margin': 0, 'border': 0, 'boxShadow': '0', 'filter': \"grayscale(50%)\"}}\n                     src={icon}\n                     width={\"32px\"} height={\"32px\"}\n                     alt=\"Open\"\n                />\n            </SmallTooltip>\n        </a>\n    }\n\n    private constructPublicationBlurb(item: { title: string; largeImageUrl: string; language: string; smallImageUrl: string; format?: string; illustrator?: string; isbn13?: string; narrator?: string; \"publication-country\"?: string; \"publication-location\"?: string; publisher?: string; quantity?: number; translator?: string; year?: string; files?: string[]; \"translation-title\"?: string; \"translation-title-transliterated\"?: string; \"language-spoken-in\"?: string; script?: string; tags?: string[]; comments?: string }) {\n        let publisher = item.publisher\n        let publicationLocation = item['publication-location']\n        let publicationCountry = item['publication-country']\n        if (!(this.isPresent(publisher) || this.isPresent(publicationLocation) || this.isPresent(publicationCountry))) {\n            return null\n        }\n\n        if (!this.isPresent(publisher) && !this.isPresent(publicationLocation)) {\n            return `in ${publicationCountry}`\n        }\n        if (!this.isPresent(publisher) && !this.isPresent(publicationCountry)) {\n            return `in ${publicationLocation}`\n        }\n        if (!this.isPresent(publicationLocation) && !this.isPresent(publicationCountry)) {\n            return `by ${publisher}`\n        }\n\n        if (!this.isPresent(publisher)) {\n            return `in ${publicationLocation}, ${publicationCountry}`\n        }\n        if (!this.isPresent(publicationLocation)) {\n            return `by ${publisher} in ${publicationCountry}`\n        }\n        if (!this.isPresent(publicationCountry)) {\n            return `by ${publisher} in ${publicationLocation}`\n        }\n\n        return `by ${publisher} in ${publicationLocation}, ${publicationCountry}`\n    }\n\n    // TODO make URLs into links, and format dates\n    private constructAquisitionBlurb(item: { \"acquired-from\"?: string, \"date-acquired\"?: string }) {\n        let acquiredFrom = item[\"acquired-from\"]\n        let dateAcquired = item[\"date-acquired\"]\n        if (!(this.isPresent(acquiredFrom) || this.isPresent(dateAcquired))) {\n            return null\n        }\n        if (this.isPresent(acquiredFrom) && this.isPresent(dateAcquired)) {\n            return `from ${acquiredFrom} on ${dateAcquired}`\n        }\n        if (!this.isPresent(dateAcquired)) {\n            return `from ${acquiredFrom}`\n        }\n        if (!this.isPresent(dateAcquired)) {\n            return `on ${dateAcquired}`\n        }\n    }\n\n    private constructTagsBlurb(tags: string[] | undefined): string | null {\n        if (!this.isPresent(tags)) {\n            return null\n        }\n        return tags!!.join(\", \")\n    }\n\n    private iconFor(filename: string) {\n        filename = filename.toLowerCase();\n        if (filename.endsWith(\".png\") || filename.endsWith(\".gif\") || filename.endsWith(\".jpg\") || filename.endsWith(\".jpeg\")) {\n            return [\"cover image\", coverIcon]\n        }\n        if (filename.endsWith(\".pdf\")) {\n            return [\"PDF\", pdfIcon]\n        }\n        if (filename.endsWith(\".doc\") || filename.endsWith(\".docx\")) {\n            return [\"document\", documentIcon]\n        }\n        if (filename.endsWith(\".mp3\")) {\n            return [\"audio file\", audibookIcon]\n        }\n        return [\"file\", popoutFlat]\n    }\n}\n\nexport default Showcase;\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown'\n\nclass HomePage extends React.Component {\n\n    body = `\n# TL; DR\n\n- [The Little Prince](./the-little-prince)\n- [The Hobbit](./the-hobbit)\n- [The Adventures of Alice in Wonderland](./alice-in-wonderland)\n- [Other titles](./other-titles)\n\n- [The Little Prince - Items I'm looking for](./the-little-prince-wanted)\n\n# What's a Polyglit??\n\nThat's me being clever by abbreviating the phrase \"Polyglot Literature\".\n\nActually, it's not an abbreviation.  It's not even a contraction.  \nIt's a [portmanteau](https://en.wikipedia.org/wiki/Portmanteau)\n\n---\n\nThis site contains a summary of various works of literature that I've acquired over the years, in languages other \nthan my native one (which is English).\n\n\n## The Little Prince\n \n[The Little Prince](the-little-prince) is one of the most widely translated books around, so it only makes sense to \ncollect those.\n  \nGranted, this is not a particularly original endeavor - lots of folks collect this one.  A few that I've found:\n* [petit-prince-collection](http://www.petit-prince-collection.com/lang/traducteurs.php?lang=en)\n* [petit-prince.at](http://www.petit-prince.at/collection.htm)\n* [genius.com/Antoine-de-saint-exupery-collection-of-the-little-prince-editions-annotated](https://genius.com/Antoine-de-saint-exupery-collection-of-the-little-prince-editions-annotated) - Fairly complete looking list of editions, with metadata!\n* [malyksiaze.net](https://malyksiaze.net/en) - This one has a \"let's make a deal\" page\n\n## A couple other likely targets\n\nIf I'm in a store trying to find a book in language _X_, and can't find The Little Prince, \nI'll generally go for [The Hobbit](the-hobbit), or [Alice in Wonderland](alice-in-wonderland) (yes, I know that the actual title is _Alice's Adventures in Wonderland_).\n\n## Nope, try again\n\nFailing the above, I cast about for whatever I can find: Translations into local languages or local literature.\nI like to find children's books because it's easier to learn from them as a beginner.\nAnd of course, language learning materials.\nHere are some of the books [not originally in English](other-titles) that I've acquired.\n   \n## Translations are boring\n\nThe astute among you have noticed that all the above are translations.  \nSo, here are some books I've acquired over the years in their original language:\n* Das Kapital (German)\n* Le Petit Prince (French)\n* Mосква 2042 (Russian)\n* Embers (Hungarian)\n* 2666 (Spanish)\n* Kéraban le tétu (French)\n* Mais où sont passées les Indo Européens? (French)\n* Python для дітей (Ukrainian)\n* De ontdekking van de hemel (Dutch)\n* Распу́тин (Russian)\n* À la recherche du temps perdu (French)\n* La Possibilité d'une île (French)\n* 三体 (Mandarin)\n* Ciacole al pedocin (Triestese)\n* Évkönyv (Hungarian)\n* Innansveitarkronika (Icelandic)\n* Βίος και Πολιτεία του Αλέξη Ζορμπά (Greek)\n* Örtlich Betäubt (German)\n* Marvirinstrato (Esperanto) \n* Le capital au XXIe siècle`\n\n    render() {\n        return (\n            <div id=\"main_content_wrap\" className=\"outer\">\n                <section id=\"main_content\" className=\"inner\">\n                    <ReactMarkdown children={this.body}/>\n                </section>\n            </div>\n        )\n    }\n}\n\nexport default HomePage;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './css/index.css';\nimport './css/style.css';\nimport './css/image-grid.css';\nimport './css/polyglit.css';\nimport './css/Showcase.css';\n\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\n\nimport Showcase from './Showcase';\nimport HomePage from './HomePage';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <div id=\"header_wrap\" className=\"outer\">\n            <header className=\"inner\">\n                <h1 id=\"project_title\">polyglit</h1>\n                <h2 id=\"project_tagline\">A collection of literary works in Lots of Languages</h2>\n            </header>\n        </div>\n\n        <Router basename={process.env.PUBLIC_URL}>\n            <Switch>\n                <Route path=\"/\" exact component={() => <HomePage/>}/>\n                <Route path={[\"/the-little-prince\", \"/little-prince\", \"/littleprince\"]} exact component={() =>\n                    <Showcase\n                        pageHeader=\"The Little Prince (Le Petit Prince) by Antoine de Saint-Exupéry\"\n                        pageSubtitle=\"My collection, painstakingly acquired over the years.\"\n                        troveUrl=\"https://moocho-test.s3-us-west-2.amazonaws.com/public/little-prince\"\n                        collectionTitle=\"The Little Prince\"\n                        showDupsCheckbox={true}\n                    />}\n                />\n                <Route path={[\"/the-hobbit\", \"/hobbit\", \"/thehobbit\"]} exact component={() =>\n                    <Showcase\n                        pageHeader=\"The Hobbit, or There and Back Again - by J.R.R. Tolkien\"\n                        pageSubtitle=\"My collection, painstakingly acquired over the years.\"\n                        troveUrl=\"https://moocho-test.s3-us-west-2.amazonaws.com/public/hobbit\"\n                        collectionTitle = \"The Hobbit\"\n                        showDupsCheckbox={true}\n                    />}\n                />\n                <Route path={[\"/alice-in-wonderland\", \"/alice\", \"aliceinwonderland\"]} exact component={() =>\n                    <Showcase\n                        pageHeader=\"Alice's Adventures in Wonderland, by Lewis Carroll\"\n                        pageSubtitle=\"My collection, painstakingly acquired over the years.\"\n                        troveUrl=\"https://moocho-test.s3-us-west-2.amazonaws.com/public/alice-in-wonderland\"\n                        collectionTitle = \"Alice in Wonderland\"\n                        showDupsCheckbox={true}\n                    />}\n                />\n                <Route path={[\"/other-titles\", \"/other\", \"/othertitles\"]} exact component={() =>\n                    <Showcase\n                        pageHeader=\"Collection: Not originally in English\"\n                        pageSubtitle=\"My collection, painstakingly acquired over the years.\"\n                        troveUrl=\"https://moocho-test.s3-us-west-2.amazonaws.com/public/books\"\n                        collectionTitle = \"opportunistically-acquired titles, either translated from, or in the original non-English text\"\n                        showDupsCheckbox={true}\n                    />}\n                />\n                <Route path={[\"/the-little-prince-wanted\", \"/little-prince-wanted\", \"/littleprincewanted\"]} exact component={() =>\n                    <Showcase\n                        pageHeader=\"The Little Prince (Le Petit Prince) by Antoine de Saint-Exupéry\"\n                        pageSubtitle=\"Editions of The Little Prince which I am looking for\"\n                        troveUrl=\"https://moocho-test.s3-us-west-2.amazonaws.com/public/little-prince-wanted\"\n                        collectionTitle=\"The Little Prince - Wanted Items\"\n                        showDupsCheckbox={false}\n                    />}\n                />\n            </Switch>\n        </Router>\n\n        <div id=\"footer_wrap\" className=\"outer\">\n            <footer className=\"inner\">\n                <p style={{textAlign: \"center\"}}>polyglit maintained by <a href=\"https://dragnon.com\">Carlton\n                    Schuyler</a></p>\n            </footer>\n        </div>\n\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}